import { Callout } from 'nextra/components';
import { Pre } from 'nextra/components';

# 高级主题：自定义导航菜单

默认情况下，本博客引擎会根据您的内容（例如是否存在 `about.md`，是否有专栏文章）来**自动生成**导航菜单。但如果您希望拥有完全的控制权，可以通过配置 `NEXT_PUBLIC_HEADER_CONFIG` 环境变量来实现。

## 配置方法

您需要提供一个**JSON 字符串**作为 `NEXT_PUBLIC_HEADER_CONFIG` 的值。

- **在 `.env` 文件中配置**:

  ```env
  NEXT_PUBLIC_HEADER_CONFIG='{"items": [{"type": "builtin", "text": "首页", "builtin": "latest"}]}'
  ```

  <Callout>
    在 `.env` 文件中，JSON
    必须写在一行内，并且属性名和字符串值需要用双引号包裹。
  </Callout>

- **在 GitHub Action 中配置 (推荐)**:

  使用 `|` 或 `>` 多行字符串语法，格式更清晰。

  ```yaml
  with:
    NEXT_PUBLIC_HEADER_CONFIG: |
      {
        "items": [
          { "type": "builtin", "text": "首页", "builtin": "latest" },
          { "type": "label", "text": "技术分享", "label": "技术" }
        ]
      }
  ```

## `items` 数组

配置的核心是 `items` 数组，数组中的每一个对象都代表一个导航菜单项。

### 菜单项类型 (`type`)

每个菜单项对象必须包含一个 `type` 字段，它决定了这个链接的类型。目前支持两种类型：

#### 1. `type: "builtin"`

链接到系统内置的页面。当 `type` 为 `builtin` 时，您还必须提供一个 `builtin` 字段。

- **`builtin` 的可选值**:
  - `"latest"`: 链接到最新的文章列表页面 (`/page/1`)。
  - `"categories"`: 链接到所有分类（标签）的列表页面 (`/categories`)。
  - `"columns"`: 链接到所有专栏的列表页面 (`/columns`)。
  - `"about"`: 链接到“关于我”页面 (`/about`)。

- **示例**:

```json
{
  "type": "builtin",
  "text": "所有分类",
  "builtin": "categories"
}
```

#### 2. `type: "label"`

链接到某一个特定分类（标签）的文章列表页面。当 `type` 为 `label` 时，您还必须提供一个 `label` 字段。

- **`label` 的值**: 您在 GitHub Issues 中使用的标签 (Label) 名称。

- **示例**:

```json
{
  "type": "label",
  "text": "前端工程化",
  "label": "前端"
}
```

## 完整配置示例

这是一个包含多种类型链接的完整示例，您可以直接复制并修改。

```yaml
# in your deploy.yml
with:
  # ... other configs
  NEXT_PUBLIC_HEADER_CONFIG: |
    {
      "items": [
        { "type": "builtin", "text": "首页", "builtin": "latest" },
        { "type": "label", "text": "React 深入", "label": "React" },
        { "type": "label", "text": "TypeScript 技巧", "label": "TypeScript" },
        { "type": "builtin", "text": "所有专栏", "builtin": "columns" },
        { "type": "builtin", "text": "关于我", "builtin": "about" }
      ]
    }
```
