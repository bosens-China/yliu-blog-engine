import { Callout } from 'nextra/components';

# 配置选项参考

您可以通过环境变量或 GitHub Action 的 `with` 参数来对博客进行全面的配置。下表列出了所有可用的选项。

<Callout type="info">
  **优先级说明**: 在使用 GitHub Action 时，通过 `with`
  传入的参数优先级最高，它会自动覆盖您可能在 `.env` 文件中设置的同名变量。
</Callout>

## 基础配置

这些是用于定义博客基本信息和行为的核心配置。

| 环境变量/Action `with` Key      | 说明                                                                                                     | 必填 | 默认值                         |
| ------------------------------- | -------------------------------------------------------------------------------------------------------- | ---- | ------------------------------ |
| `NEXT_PUBLIC_GITHUB_REPOSITORY` | 你的 GitHub 仓库地址，格式为 `owner/repo`。这是博客内容的唯一来源。                                      | 是   | 在 Action 中默认为当前仓库     |
| `GITHUB_TOKEN`                  | 你的 GitHub 个人访问令牌。强烈推荐配置，以避免在拉取大量 Issues 时遇到 API 速率限制。                    | 否   | (匿名访问)                     |
| `NEXT_PUBLIC_BLOG_TITLE`        | 显示在网站顶部和浏览器标签页的博客主标题。                                                               | 否   | `[所有者名称]的个人博客`       |
| `NEXT_PUBLIC_BLOG_AUTHOR`       | 作者名称，用于文章和站点的元数据。                                                                       | 否   | 仓库所有者的 GitHub 用户名     |
| `NEXT_PUBLIC_SITE_URL`          | 你的博客的最终部署域名，例如 `https://blog.example.com`。对于生成准确的 SEO 信息（如 sitemap）至关重要。 | 否   | (自动从 GitHub Pages URL 推断) |
| `NEXT_PUBLIC_FOOTER_TEXT`       | 显示在页面底部的页脚文本。支持 Markdown。                                                                | 否   | (空字符串)                     |
| `NEXT_PUBLIC_BASE_PATH`         | 如果你的博客部署在网站的子目录下（例如 `example.com/blog`），请在此处设置为 `/blog`。                    | 否   | (空字符串)                     |

## 高级配置

这些选项用于调整特定功能或进行深度自定义。

| 环境变量/Action `with` Key  | 说明                                                                                                  | 必填 | 默认值                 |
| --------------------------- | ----------------------------------------------------------------------------------------------------- | ---- | ---------------------- |
| `NEXT_PUBLIC_HEADER_CONFIG` | 用于完全自定义顶部导航菜单的 JSON 字符串。详情请参考 [自定义导航菜单](/advanced/custom-header) 指南。 | 否   | (根据你的内容自动生成) |
| `COLUMN_MIN_PREFIX_LENGTH`  | (已废弃) 在旧的本地专栏识别算法中使用。现在推荐使用 `专栏/` 标签模式。                                | 否   | `6`                    |

## AI 增强配置

所有 AI 功能都是可选的。只有在提供了对应的 `URL` 和 `API_KEY` 后，该功能才会被启用。

| 环境变量/Action `with` Key | 说明                                |
| -------------------------- | ----------------------------------- |
| `AI_POSTS_SEO_URL`         | **文章 SEO 优化**服务的工作流 URL。 |
| `AI_POSTS_SEO_API_KEY`     | **文章 SEO 优化**服务的 API Key。   |
| `AI_COLUMNS_URL`           | **专栏智能分析**服务的工作流 URL。  |
| `AI_COLUMNS_API_KEY`       | **专栏智能分析**服务的 API Key。    |
| `AI_SITE_SEO_URL`          | **站点 SEO 汇总**服务的工作流 URL。 |
| `AI_SITE_SEO_API_KEY`      | **站点 SEO 汇总**服务的 API Key。   |

## SEO 兜底配置

当 AI 服务未启用或调用失败时，系统将使用以下环境变量作为 SEO 数据的兜底（Fallback）。

| 环境变量/Action `with` Key    | 说明                                       |
| ----------------------------- | ------------------------------------------ |
| `NEXT_PUBLIC_SEO_DESCRIPTION` | 站点的全局元描述 (meta description)。      |
| `NEXT_PUBLIC_SEO_KEYWORDS`    | 站点的全局关键词，请使用**英文逗号**分隔。 |
