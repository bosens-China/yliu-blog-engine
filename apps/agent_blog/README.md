# agent_blog

这个项目是给nextjs作为ai增强使用，通过RPC的调用暴露给scripts包下使用。

## 流程

1. scripts包调用 rpc
2. 接收到data.json 文件
3. 进行决策

### 简单情况

假设所有的文章内容和输出的内容没有超出模型的上下文限制，则直接使用简单情况处理即可，也就是通过 prompt来一次行返回

1. 专栏
2. 文章的seo和简介
3. 站点的seo信息

如果超出则进入复杂情况

### 复杂情况

1. 对文章进行切分，以 `[文章1,文章2,...],[文章1,文章2,...],[文章1,文章2,...]` 的形式进行处理
2. 将每篇文章进行seo和简介的概括
3. 根据文章的seo信息，生成站点的seo信息
4. 讲所有标题传递，进行专栏的提取

### 极端情况

在复杂情况下，假设单篇文章的长度超出了上下文的阈值，则直接使用分段处理

1. 切分段落
2. 对每段进行该落
3. 组装简介和seo
